!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Brambl=n():t.Brambl=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";t.exports={Graph:e(1)}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(2),u=e(7),a=e(8),s=function(){function t(n){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];r(this,t),this.selector=n,this.options=i,this.nodes=e.nodes||[],this.edges=e.edges||[],this.canvas=document.querySelector(n),this.simulation=null,this.context=graph.canvas.getContext("2d")}return i(t,[{key:"start",value:function(){var t=this;this.simulation=o.forceSimulation().force("link",o.forceLink().id(function(t){return t.id})).force("charge",o.forceManyBody()).force("center",o.forceCenter(this.canvas.width/2,this.canvas.height/2)),this.simulation.nodes(this.nodes),this.simulation.force("link").links(this.edges).distance(function(t){return 100}),this.simulation.on("tick",function(){return t.render()})}},{key:"stop",value:function(){this.simulation.stop()}},{key:"render",value:function(){var t=this;this.context.clearRect(0,0,this.graph.canvas.width,this.graph.canvas.height),this.context.beginPath(),this.edges.forEach(function(n){return a(n,t.context)}),this.context.stroke(),this.context.beginPath(),this.nodes.forEach(function(n){return u(n,t.context)}),this.context.fill()}}]),t}();t.exports=s},function(t,n,e){!function(t,r){r(n,e(3),e(4),e(5),e(6))}(this,function(t,n,e,r,i){"use strict";function o(t,n){function e(){var e,i,o=r.length,u=0,a=0;for(e=0;e<o;++e)i=r[e],u+=i.x,a+=i.y;for(u=u/o-t,a=a/o-n,e=0;e<o;++e)i=r[e],i.x-=u,i.y-=a}var r;return null==t&&(t=0),null==n&&(n=0),e.initialize=function(t){r=t},e.x=function(n){return arguments.length?(t=+n,e):t},e.y=function(t){return arguments.length?(n=+t,e):n},e}function u(t){return function(){return t}}function a(){return 1e-6*(Math.random()-.5)}function s(t){return t.x+t.vx}function f(t){return t.y+t.vy}function c(t){function e(){function t(t,n,r,i,o){var u=t.data,s=t.r,f=p+s;{if(!u)return n>v+f||i<v-f||r>y+f||o<y-f;if(u.index>e){var h=v-u.x-u.vx,d=y-u.y-u.vy,g=h*h+d*d;g<f*f&&(0===h&&(h=a(),g+=h*h),0===d&&(d=a(),g+=d*d),g=(f-(g=Math.sqrt(g)))/g*c,l.vx+=(h*=g)*(f=(s*=s)/(x+s)),l.vy+=(d*=g)*f,u.vx-=h*(f=1-f),u.vy-=d*f)}}}for(var e,u,l,v,y,p,x,d=i.length,g=0;g<h;++g)for(u=n.quadtree(i,s,f).visitAfter(r),e=0;e<d;++e)l=i[e],p=o[e],x=p*p,v=l.x+l.vx,y=l.y+l.vy,u.visit(t)}function r(t){if(t.data)return t.r=o[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}var i,o,c=1,h=1;return"function"!=typeof t&&(t=u(null==t?1:+t)),e.initialize=function(n){var e,r=(i=n).length;for(o=new Array(r),e=0;e<r;++e)o[e]=+t(i[e],e,i)},e.iterations=function(t){return arguments.length?(h=+t,e):h},e.strength=function(t){return arguments.length?(c=+t,e):c},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:u(+n),e):t},e}function h(t,n){return n}function l(t){function n(t){return 1/Math.min(v[t.source.index],v[t.target.index])}function r(n){for(var e=0,r=t.length;e<g;++e)for(var i,o,u,s,h,l,v,p=0;p<r;++p)i=t[p],o=i.source,u=i.target,s=u.x+u.vx-o.x-o.vx||a(),h=u.y+u.vy-o.y-o.vy||a(),l=Math.sqrt(s*s+h*h),l=(l-c[p])/l*n*f[p],s*=l,h*=l,u.vx-=s*(v=y[p]),u.vy-=h*v,o.vx+=s*(v=1-v),o.vy+=h*v}function i(){if(l){var n,r,i=l.length,u=t.length,a=e.map(l,p);for(n=0,v=new Array(i);n<i;++n)v[n]=0;for(n=0;n<u;++n)r=t[n],r.index=n,"object"!=typeof r.source&&(r.source=a.get(r.source)),"object"!=typeof r.target&&(r.target=a.get(r.target)),++v[r.source.index],++v[r.target.index];for(n=0,y=new Array(u);n<u;++n)r=t[n],y[n]=v[r.source.index]/(v[r.source.index]+v[r.target.index]);f=new Array(u),o(),c=new Array(u),s()}}function o(){if(l)for(var n=0,e=t.length;n<e;++n)f[n]=+x(t[n],n,t)}function s(){if(l)for(var n=0,e=t.length;n<e;++n)c[n]=+d(t[n],n,t)}var f,c,l,v,y,p=h,x=n,d=u(30),g=1;return null==t&&(t=[]),r.initialize=function(t){l=t,i()},r.links=function(n){return arguments.length?(t=n,i(),r):t},r.id=function(t){return arguments.length?(p=t,r):p},r.iterations=function(t){return arguments.length?(g=+t,r):g},r.strength=function(t){return arguments.length?(x="function"==typeof t?t:u(+t),o(),r):x},r.distance=function(t){return arguments.length?(d="function"==typeof t?t:u(+t),s(),r):d},r}function v(t){return t.x}function y(t){return t.y}function p(t){function n(){o(),x.call("tick",s),f<c&&(p.stop(),x.call("end",s))}function o(){var n,e,r=t.length;for(f+=(l-f)*h,y.each(function(t){t(f)}),n=0;n<r;++n)e=t[n],null==e.fx?e.x+=e.vx*=v:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=v:(e.y=e.fy,e.vy=0)}function u(){for(var n,e=0,r=t.length;e<r;++e){if(n=t[e],n.index=e,isNaN(n.x)||isNaN(n.y)){var i=_*Math.sqrt(e),o=e*w;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function a(n){return n.initialize&&n.initialize(t),n}var s,f=1,c=.001,h=1-Math.pow(c,1/300),l=0,v=.6,y=e.map(),p=i.timer(n),x=r.dispatch("tick","end");return null==t&&(t=[]),u(),s={tick:o,restart:function(){return p.restart(n),s},stop:function(){return p.stop(),s},nodes:function(n){return arguments.length?(t=n,u(),y.each(a),s):t},alpha:function(t){return arguments.length?(f=+t,s):f},alphaMin:function(t){return arguments.length?(c=+t,s):c},alphaDecay:function(t){return arguments.length?(h=+t,s):+h},alphaTarget:function(t){return arguments.length?(l=+t,s):l},velocityDecay:function(t){return arguments.length?(v=1-t,s):1-v},force:function(t,n){return arguments.length>1?(null==n?y.remove(t):y.set(t,a(n)),s):y.get(t)},find:function(n,e,r){var i,o,u,a,s,f=0,c=t.length;for(null==r?r=1/0:r*=r,f=0;f<c;++f)a=t[f],i=n-a.x,o=e-a.y,u=i*i+o*o,u<r&&(s=a,r=u);return s},on:function(t,n){return arguments.length>1?(x.on(t,n),s):x.on(t)}}}function x(){function t(t){var e,u=o.length,a=n.quadtree(o,v,y).visitAfter(r);for(f=t,e=0;e<u;++e)s=o[e],a.visit(i)}function e(){if(o){var t,n=o.length;for(c=new Array(n),t=0;t<n;++t)c[t]=+h(o[t],t,o)}}function r(t){var n,e,r,i,o,u=0;if(t.length){for(r=i=o=0;o<4;++o)(n=t[o])&&(e=n.value)&&(u+=e,r+=e*n.x,i+=e*n.y);t.x=r/u,t.y=i/u}else{n=t,n.x=n.data.x,n.y=n.data.y;do u+=c[n.data.index];while(n=n.next)}t.value=u}function i(t,n,e,r){if(!t.value)return!0;var i=t.x-s.x,o=t.y-s.y,u=r-n,h=i*i+o*o;if(u*u/x<h)return h<p&&(0===i&&(i=a(),h+=i*i),0===o&&(o=a(),h+=o*o),h<l&&(h=Math.sqrt(l*h)),s.vx+=i*t.value*f/h,s.vy+=o*t.value*f/h),!0;if(!(t.length||h>=p)){(t.data!==s||t.next)&&(0===i&&(i=a(),h+=i*i),0===o&&(o=a(),h+=o*o),h<l&&(h=Math.sqrt(l*h)));do t.data!==s&&(u=c[t.data.index]*f/h,s.vx+=i*u,s.vy+=o*u);while(t=t.next)}}var o,s,f,c,h=u(-30),l=1,p=1/0,x=.81;return t.initialize=function(t){o=t,e()},t.strength=function(n){return arguments.length?(h="function"==typeof n?n:u(+n),e(),t):h},t.distanceMin=function(n){return arguments.length?(l=n*n,t):Math.sqrt(l)},t.distanceMax=function(n){return arguments.length?(p=n*n,t):Math.sqrt(p)},t.theta=function(n){return arguments.length?(x=n*n,t):Math.sqrt(x)},t}function d(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)n=r[e],n.vx+=(o[e]-n.x)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+a(r[n],n,r)}}var r,i,o,a=u(.1);return"function"!=typeof t&&(t=u(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(a="function"==typeof t?t:u(+t),e(),n):a},n.x=function(r){return arguments.length?(t="function"==typeof r?r:u(+r),e(),n):t},n}function g(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)n=r[e],n.vy+=(o[e]-n.y)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+a(r[n],n,r)}}var r,i,o,a=u(.1);return"function"!=typeof t&&(t=u(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(a="function"==typeof t?t:u(+t),e(),n):a},n.y=function(r){return arguments.length?(t="function"==typeof r?r:u(+r),e(),n):t},n}var _=10,w=Math.PI*(3-Math.sqrt(5));t.forceCenter=o,t.forceCollide=c,t.forceLink=l,t.forceManyBody=x,t.forceSimulation=p,t.forceX=d,t.forceY=g,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(t){var n=+this._x.call(null,t),r=+this._y.call(null,t);return e(this.cover(n,r),n,r,t)}function e(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,s,f,c,h,l,v=t._root,y={data:r},p=t._x0,x=t._y0,d=t._x1,g=t._y1;if(!v)return t._root=y,t;for(;v.length;)if((f=n>=(o=(p+d)/2))?p=o:d=o,(c=e>=(u=(x+g)/2))?x=u:g=u,i=v,!(v=v[h=c<<1|f]))return i[h]=y,t;if(a=+t._x.call(null,v.data),s=+t._y.call(null,v.data),n===a&&e===s)return y.next=v,i?i[h]=y:t._root=y,t;do i=i?i[h]=new Array(4):t._root=new Array(4),(f=n>=(o=(p+d)/2))?p=o:d=o,(c=e>=(u=(x+g)/2))?x=u:g=u;while((h=c<<1|f)===(l=(s>=u)<<1|a>=o));return i[l]=v,i[h]=y,t}function r(t){var n,r,i,o,u=t.length,a=new Array(u),s=new Array(u),f=1/0,c=1/0,h=-(1/0),l=-(1/0);for(r=0;r<u;++r)isNaN(i=+this._x.call(null,n=t[r]))||isNaN(o=+this._y.call(null,n))||(a[r]=i,s[r]=o,i<f&&(f=i),i>h&&(h=i),o<c&&(c=o),o>l&&(l=o));for(h<f&&(f=this._x0,h=this._x1),l<c&&(c=this._y0,l=this._y1),this.cover(f,c).cover(h,l),r=0;r<u;++r)e(this,a[r],s[r],t[r]);return this}function i(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var u,a,s=i-e,f=this._root;switch(a=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do u=new Array(4),u[a]=f,f=u;while(s*=2,i=e+s,o=r+s,t>i||n>o);break;case 1:do u=new Array(4),u[a]=f,f=u;while(s*=2,e=i-s,o=r+s,e>t||n>o);break;case 2:do u=new Array(4),u[a]=f,f=u;while(s*=2,i=e+s,r=o-s,t>i||r>n);break;case 3:do u=new Array(4),u[a]=f,f=u;while(s*=2,e=i-s,r=o-s,e>t||r>n)}this._root&&this._root.length&&(this._root=f)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this}function o(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function u(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function a(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function s(t,n,e){var r,i,o,u,s,f,c,h=this._x0,l=this._y0,v=this._x1,y=this._y1,p=[],x=this._root;for(x&&p.push(new a(x,h,l,v,y)),null==e?e=1/0:(h=t-e,l=n-e,v=t+e,y=n+e,e*=e);f=p.pop();)if(!(!(x=f.node)||(i=f.x0)>v||(o=f.y0)>y||(u=f.x1)<h||(s=f.y1)<l))if(x.length){var d=(i+u)/2,g=(o+s)/2;p.push(new a(x[3],d,g,u,s),new a(x[2],i,g,d,s),new a(x[1],d,o,u,g),new a(x[0],i,o,d,g)),(c=(n>=g)<<1|t>=d)&&(f=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=f)}else{var _=t-+this._x.call(null,x.data),w=n-+this._y.call(null,x.data),m=_*_+w*w;if(m<e){var N=Math.sqrt(e=m);h=t-N,l=n-N,v=t+N,y=n+N,r=x.data}}return r}function f(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,s,f,c,h,l,v=this._root,y=this._x0,p=this._y0,x=this._x1,d=this._y1;if(!v)return this;if(v.length)for(;;){if((f=o>=(a=(y+x)/2))?y=a:x=a,(c=u>=(s=(p+d)/2))?p=s:d=s,n=v,!(v=v[h=c<<1|f]))return this;if(!v.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,l=h)}for(;v.data!==t;)if(r=v,!(v=v.next))return this;return(i=v.next)&&delete v.next,r?(i?r.next=i:delete r.next,this):n?(i?n[h]=i:delete n[h],(v=n[0]||n[1]||n[2]||n[3])&&v===(n[3]||n[2]||n[1]||n[0])&&!v.length&&(e?e[l]=v:this._root=v),this):(this._root=i,this)}function c(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function h(){return this._root}function l(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function v(t){var n,e,r,i,o,u,s=[],f=this._root;for(f&&s.push(new a(f,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!t(f=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&f.length){var c=(r+o)/2,h=(i+u)/2;(e=f[3])&&s.push(new a(e,c,h,o,u)),(e=f[2])&&s.push(new a(e,r,h,c,u)),(e=f[1])&&s.push(new a(e,c,i,o,h)),(e=f[0])&&s.push(new a(e,r,i,c,h))}return this}function y(t){var n,e=[],r=[];for(this._root&&e.push(new a(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,s=n.y0,f=n.x1,c=n.y1,h=(u+f)/2,l=(s+c)/2;(o=i[0])&&e.push(new a(o,u,s,h,l)),(o=i[1])&&e.push(new a(o,h,s,f,l)),(o=i[2])&&e.push(new a(o,u,l,h,c)),(o=i[3])&&e.push(new a(o,h,l,f,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function p(t){return t[0]}function x(t){return arguments.length?(this._x=t,this):this._x}function d(t){return t[1]}function g(t){return arguments.length?(this._y=t,this):this._y}function _(t,n,e){var r=new w(null==n?p:n,null==e?d:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function w(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function m(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var N=_.prototype=w.prototype;N.copy=function(){var t,n,e=new w(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=m(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=m(n));return e},N.add=n,N.addAll=r,N.cover=i,N.data=o,N.extent=u,N.find=s,N.remove=f,N.removeAll=c,N.root=h,N.size=l,N.visit=v,N.visitAfter=y,N.x=x,N.y=g,t.quadtree=_,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(){}function e(t,e){var r=new n;if(t instanceof n)t.each(function(t,n){r.set(n,t)});else if(Array.isArray(t)){var i,o=-1,u=t.length;if(null==e)for(;++o<u;)r.set(o,t[o]);else for(;++o<u;)r.set(e(i=t[o],o,t),i)}else if(t)for(var a in t)r.set(a,t[a]);return r}function r(){function t(n,i,o,u){if(i>=c.length)return null!=s?s(n):null!=r?n.sort(r):n;for(var a,f,h,l=-1,v=n.length,y=c[i++],p=e(),x=o();++l<v;)(h=p.get(a=y(f=n[l])+""))?h.push(f):p.set(a,[f]);return p.each(function(n,e){u(x,e,t(n,i,o,u))}),x}function n(t,e){if(++e>c.length)return t;var r,i=h[e-1];return null!=s&&e>=c.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:n(t,e)})})),null!=i?r.sort(function(t,n){return i(t.key,n.key)}):r}var r,s,f,c=[],h=[];return f={object:function(n){return t(n,0,i,o)},map:function(n){return t(n,0,u,a)},entries:function(e){return n(t(e,0,u,a),0)},key:function(t){return c.push(t),f},sortKeys:function(t){return h[c.length-1]=t,f},sortValues:function(t){return r=t,f},rollup:function(t){return s=t,f}}}function i(){return{}}function o(t,n,e){t[n]=e}function u(){return e()}function a(t,n,e){t.set(n,e)}function s(){}function f(t,n){var e=new s;if(t instanceof s)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function c(t){var n=[];for(var e in t)n.push(e);return n}function h(t){var n=[];for(var e in t)n.push(t[e]);return n}function l(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n}var v="$";n.prototype=e.prototype={constructor:n,has:function(t){return v+t in this},get:function(t){return this[v+t]},set:function(t,n){return this[v+t]=n,this},remove:function(t){var n=v+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===v&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===v&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===v&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===v&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===v&&++t;return t},empty:function(){for(var t in this)if(t[0]===v)return!1;return!0},each:function(t){for(var n in this)n[0]===v&&t(this[n],n.slice(1),this)}};var y=e.prototype;s.prototype=f.prototype={constructor:s,has:y.has,add:function(t){return t+="",this[v+t]=t,this},remove:y.remove,clear:y.clear,values:y.keys,size:y.size,empty:y.empty,each:y.each},t.nest=r,t.set=f,t.map=e,t.keys=c,t.values=h,t.entries=l,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new e(i)}function e(t){this._=t}function r(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function i(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function o(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=u,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}var u={value:function(){}};e.prototype=n.prototype={constructor:e,on:function(t,n){var e,u=this._,a=r(t+"",u),s=-1,f=a.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++s<f;)if(e=(t=a[s]).type)u[e]=o(u[e],t.name,n);else if(null==n)for(e in u)u[e]=o(u[e],t.name,null);return this}for(;++s<f;)if((e=(t=a[s]).type)&&(e=i(u[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new e(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,e=r.length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}},t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(){return _||(N(e),_=m.now()+w)}function e(){_=0}function r(){this._call=this._time=this._next=null}function i(t,n,e){var i=new r;return i.restart(t,n,e),i}function o(){n(),++y;for(var t,e=l;e;)(t=_-e._time)>=0&&e._call.call(null,t),e=e._next;--y}function u(t){_=(g=t||m.now())+w,y=p=0;try{o()}finally{y=0,s(),_=0}}function a(){var t=m.now(),n=t-g;n>d&&(w-=n,g=t)}function s(){for(var t,n,e=l,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:l=n);v=t,f(r)}function f(t){if(!y){p&&(p=clearTimeout(p));var n=t-_;n>24?(t<1/0&&(p=setTimeout(u,n)),x&&(x=clearInterval(x))):(x||(x=setInterval(a,d)),y=1,N(u))}}function c(t,n,e){var i=new r;return n=null==n?0:+n,i.restart(function(e){i.stop(),t(e+n)},n,e),i}function h(t,e,i){var o=new r,u=e;return null==e?(o.restart(t,e,i),o):(e=+e,i=null==i?n():+i,o.restart(function a(n){n+=u,o.restart(a,u+=e,i),t(n)},e,i),o)}var l,v,y=0,p=0,x=0,d=1e3,g=0,_=0,w=0,m="object"==typeof performance&&performance.now?performance:Date,N="function"==typeof requestAnimationFrame?m===Date?function(t){requestAnimationFrame(function(){t(m.now())})}:requestAnimationFrame:function(t){setTimeout(t,17)};r.prototype=i.prototype={constructor:r,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?n():+r)+(null==e?0:+e),this._next||v===this||(v?v._next=this:l=this,v=this),this._call=t,this._time=r,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}},t.now=n,t.timer=i,t.timerFlush=o,t.timeout=c,t.interval=h,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,n){"use strict";t.exports=function(t,n){n.moveTo(t.x+3,t.y),n.arc(t.x,t.y,20,0,2*Math.PI)}},function(t,n){"use strict";t.exports=function(t,n){n.moveTo(t.source.x,t.source.y),n.lineTo(t.target.x,t.target.y)}}])});
//# sourceMappingURL=brambl.min.js.map